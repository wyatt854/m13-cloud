<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>PROJECT M13 - CLOUD</title>
    <style>
        body { background: #000; color: #00ff41; font-family: 'Courier New', monospace; padding: 40px; line-height: 1.6; }
        .glitch { font-size: 24px; border-bottom: 1px solid #00ff41; padding-bottom: 15px; margin-bottom: 30px; letter-spacing: 2px; text-transform: uppercase; }
        #file-list { list-style: none; padding: 0; }
        .file-item { margin: 12px 0; display: flex; align-items: center; }
        .file-item::before { content: "> "; margin-right: 10px; }
        a { color: #fff; text-decoration: none; font-size: 18px; transition: all 0.3s; }
        a:hover { color: #00ff41; text-shadow: 0 0 10px #00ff41; padding-left: 10px; }
        .status-msg { font-style: italic; color: #00ff41; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div class="glitch">SYSTEM_M13_MEMORY_STORAGE [ONLINE]</div>
    
    <div id="status" class="status-msg">Initialisation de la connexion aux archives...</div>
    <ul id="file-list"></ul>

    <script>
        const username = 'wyatt854';
        const repo = 'm13-cloud';
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/`;

        async function loadFiles() {
            const listElement = document.getElementById('file-list');
            const statusElement = document.getElementById('status');

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error('Erreur API');
                const files = await response.json();

                statusElement.innerText = "> ACCÈS AUX ARCHIVES MÉMOIRE (PDF) :";
                listElement.innerHTML = ""; 

                files.forEach(file => {
                    if (file.name.toLowerCase().endsWith('.pdf')) {
                        const li = document.createElement('li');
                        li.className = 'file-item';
                        
                        const a = document.createElement('a');
                        // encodeURIComponent protège le lien si tu as quand même des espaces
                        a.href = encodeURIComponent(file.name);
                        a.target = "_blank";
                        a.innerText = file.name.replace(/_/g, ' ').toUpperCase();
                        
                        li.appendChild(a);
                        listElement.appendChild(li);
                    }
                });

                if (listElement.children.length === 0) {
                    statusElement.innerText = "> AUCUNE ARCHIVE DÉTECTÉE DANS LE SYSTÈME.";
                }

            } catch (error) {
                statusElement.innerText = "> ERREUR : CONNEXION AU REPOSITORY IMPOSSIBLE.";
                console.error(error);
            }
        }

        loadFiles();
    </script>
</body>
</html>
